/* @pjs preload = "back.png, forward.png, bg.jpg, button.png, champion-bg.jpg, confirm.jpg, multi-bg.jpg,
0.jpg, 1.jpg, 2.jpg, 3.jpg, 4.jpg, 5.jpg, 6.jpg, 7.jpg, 8.jpg, 9.jpg, 10.jpg, 11.jpg, 12.jpg, 13.jpg, 14.jpg, 15.jpg, 16.jpg, 17.jpg, 18.jpg, 19.jpg, 20.jpg, 21.jpg, 22.jpg, 23.jpg, 24.jpg, 25.jpg, 26.jpg, 27.jpg, 28.jpg, 29.jpg, 30.jpg, 31.jpg, 32.jpg, 33.jpg, 34.jpg, 35.jpg, 36.jpg, 37.jpg, 38.jpg, 39.jpg, 40.jpg, 41.jpg, 42.jpg, 43.jpg, 44.jpg, 45.jpg, 46.jpg, 47.jpg, 
48.jpg, 49.jpg, 50.jpg, 51.jpg, 52.jpg, 53.jpg, 54.jpg, 55.jpg, 56.jpg, 57.jpg, 58.jpg, 59.jpg, 60.jpg, 61.jpg, 62.jpg, 63.jpg, 64.jpg, 65.jpg, 66.jpg, 67.jpg, 68.jpg, 69.jpg, 70.jpg, 71.jpg, 72.jpg, 73.jpg, 74.jpg, 75.jpg, 76.jpg, 77.jpg, 78.jpg, 79.jpg, 80.jpg, 81.jpg, 82.jpg, 83.jpg, 84.jpg, 85.jpg, 86.jpg, 87.jpg, 88.jpg, 89.jpg, 90.jpg, 91.jpg, 92.jpg, 93.jpg, 94.jpg, 95.jpg, 96.jpg, 97.jpg, 98.jpg, 99.jpg, 100.jpg, 101.jpg, 102.jpg, 103.jpg, 104.jpg, 105.jpg, 106.jpg, 107.jpg, 108.jpg, 
109.jpg, 110.jpg, 111.jpg, 112.jpg, 113.jpg, 114.jpg, 115.jpg, 116.jpg, 117.jpg, 118.jpg, 119.jpg, 120.jpg, 121.jpg, 122.jpg, 123.jpg, 124.jpg, 125.jpg, 126.jpg, 127.jpg, 128.jpg, 129.jpg, 130.jpg, 131.jpg, 132.jpg, 133.jpg, 134.jpg, 135.jpg, 136.jpg, 137.jpg, 138.jpg, 0-2.png, 0-3.png, 0-4.png, 1-2.png, 1-3.png, 1-4.png, 2-2.png, 2-3.png, 2-4.png, 3-2.png, 3-3.png, 3-4.png, 4-2.png, 4-3.png, 4-4.png, 5-2.png, 5-3.png, 5-4.png, 6-2.png, 6-3.png, 6-4.png, 7-2.png, 7-3.png, 7-4.png, 8-2.png, 
8-3.png, 8-4.png, 9-2.png, 9-3.png, 9-4.png, 10-2.png, 10-3.png, 10-4.png, 11-2.png, 11-3.png, 11-4.png, 12-2.png, 12-3.png, 12-4.png, 13-2.png, 13-3.png, 13-4.png, 14-2.png, 14-3.png, 14-4.png, 15-2.png, 15-3.png, 15-4.png, 16-2.png, 16-3.png, 16-4.png, 17-2.png, 17-3.png, 17-4.png, 18-2.png, 18-3.png, 18-4.png, 19-2.png, 19-3.png, 19-4.png, 20-2.png, 20-3.png, 20-4.png, 21-2.png, 21-3.png, 21-4.png, 22-2.png, 22-3.png, 22-4.png, 23-2.png, 23-3.png, 23-4.png, 24-2.png, 24-3.png, 24-4.png, 
25-2.png, 25-3.png, 25-4.png, 26-2.png, 26-3.png, 26-4.png, 27-2.png, 27-3.png, 27-4.png, 28-2.png, 28-3.png, 28-4.png, 29-2.png, 29-3.png, 29-4.png, 30-2.png, 30-3.png, 30-4.png, 31-2.png, 31-3.png, 31-4.png, 32-2.png, 32-3.png, 32-4.png, 33-2.png, 33-3.png, 33-4.png, 34-2.png, 34-3.png, 34-4.png, 35-2.png, 35-3.png, 35-4.png, 36-2.png, 36-3.png, 36-4.png, 37-2.png, 37-3.png, 37-4.png, 38-2.png, 38-3.png, 38-4.png, 39-2.png, 39-3.png, 39-4.png, 40-2.png, 40-3.png, 40-4.png, 41-2.png, 41-3.png, 
41-4.png, 42-2.png, 42-3.png, 42-4.png, 43-2.png, 43-3.png, 43-4.png, 44-2.png, 44-3.png, 44-4.png, 45-2.png, 45-3.png, 45-4.png, 46-2.png, 46-3.png, 46-4.png, 47-2.png, 47-3.png, 47-4.png, 48-2.png, 48-3.png, 48-4.png, 49-2.png, 49-3.png, 49-4.png, 50-2.png, 50-3.png, 50-4.png, 51-2.png, 51-3.png, 51-4.png, 52-2.png, 52-3.png, 52-4.png, 53-2.png, 53-3.png, 53-4.png, 54-2.png, 54-3.png, 54-4.png, 55-2.png, 55-3.png, 55-4.png, 56-2.png, 56-3.png, 56-4.png, 57-2.png, 57-3.png, 57-4.png, 58-2.png, 
58-3.png, 58-4.png, 59-2.png, 59-3.png, 59-4.png, 60-2.png, 60-3.png, 60-4.png, 61-2.png, 61-3.png, 61-4.png, 62-2.png, 62-3.png, 62-4.png, 63-2.png, 63-3.png, 63-4.png, 64-2.png, 64-3.png, 64-4.png, 65-2.png, 65-3.png, 65-4.png, 66-2.png, 66-3.png, 66-4.png, 67-2.png, 67-3.png, 67-4.png, 68-2.png, 68-3.png, 68-4.png, 69-2.png, 69-3.png, 69-4.png, 70-2.png, 70-3.png, 70-4.png, 71-2.png, 71-3.png, 71-4.png, 72-2.png, 72-3.png, 72-4.png, 73-2.png, 73-3.png, 73-4.png, 74-2.png, 74-3.png, 74-4.png, 
75-2.png, 75-3.png, 75-4.png, 76-2.png, 76-3.png, 76-4.png, 77-2.png, 77-3.png, 77-4.png, 78-2.png, 78-3.png, 78-4.png, 79-2.png, 79-3.png, 79-4.png, 80-2.png, 80-3.png, 80-4.png, 81-2.png, 81-3.png, 81-4.png, 82-2.png, 82-3.png, 82-4.png, 83-2.png, 83-3.png, 83-4.png, 84-2.png, 84-3.png, 84-4.png, 85-2.png, 85-3.png, 85-4.png, 86-2.png, 86-3.png, 86-4.png, 87-2.png, 87-3.png, 87-4.png, 88-2.png, 88-3.png, 88-4.png, 89-2.png, 89-3.png, 89-4.png, 90-2.png, 90-3.png, 90-4.png, 91-2.png, 91-3.png, 
91-4.png, 92-2.png, 92-3.png, 92-4.png, 93-2.png, 93-3.png, 93-4.png, 94-2.png, 94-3.png, 94-4.png, 95-2.png, 95-3.png, 95-4.png, 96-2.png, 96-3.png, 96-4.png, 97-2.png, 97-3.png, 97-4.png, 98-2.png, 98-3.png, 98-4.png, 99-2.png, 99-3.png, 99-4.png, 100-2.png, 100-3.png, 100-4.png, 101-2.png, 101-3.png, 101-4.png, 102-2.png, 102-3.png, 102-4.png, 103-2.png, 103-3.png, 103-4.png, 104-2.png, 104-3.png, 104-4.png, 105-2.png, 105-3.png, 105-4.png, 106-2.png, 106-3.png, 106-4.png, 107-2.png, 107-3.png, 
107-4.png, 108-2.png, 108-3.png, 108-4.png, 109-2.png, 109-3.png, 109-4.png, 110-2.png, 110-3.png, 110-4.png, 111-2.png, 111-3.png, 111-4.png, 112-2.png, 112-3.png, 112-4.png, 113-2.png, 113-3.png, 113-4.png, 114-2.png, 114-3.png, 114-4.png, 115-2.png, 115-3.png, 115-4.png, 116-2.png, 116-3.png, 116-4.png, 117-2.png, 117-3.png, 117-4.png, 118-2.png, 118-3.png, 118-4.png, 119-2.png, 119-3.png, 119-4.png, 120-2.png, 120-3.png, 120-4.png, 121-2.png, 121-3.png, 121-4.png, 122-2.png, 122-3.png, 122-4.png, 
123-2.png, 123-3.png, 123-4.png, 124-2.png, 124-3.png, 124-4.png, 125-2.png, 125-3.png, 125-4.png, 126-2.png, 126-3.png, 126-4.png, 127-2.png, 127-3.png, 127-4.png, 128-2.png, 128-3.png, 128-4.png, 129-2.png, 129-3.png, 129-4.png, 130-2.png, 130-3.png, 130-4.png, 131-2.png, 131-3.png, 131-4.png, 132-2.png, 132-3.png, 132-4.png, 133-2.png, 133-3.png, 133-4.png, 134-2.png, 134-3.png, 134-4.png, 135-2.png, 135-3.png, 135-4.png, 136-2.png, 136-3.png, 136-4.png, 137-2.png, 137-3.png, 137-4.png, 138-2.png, 
138-3.png, 138-4.png, single-0.jpg, single-1.jpg, single-2.jpg, single-3.jpg, single-4.jpg, single-5.jpg, single-6.jpg, single-7.jpg, single-8.jpg, single-9.jpg, single-10.jpg, single-11.jpg, single-12.jpg, single-13.jpg, single-14.jpg, single-15.jpg, single-16.jpg, single-17.jpg, single-18.jpg, single-19.jpg, single-20.jpg, single-21.jpg, single-22.jpg, single-23.jpg, single-24.jpg, single-25.jpg, single-26.jpg, single-27.jpg, single-28.jpg, single-29.jpg, single-30.jpg, single-31.jpg, single-32.jpg, 
single-33.jpg, single-34.jpg, single-35.jpg, single-36.jpg, single-37.jpg, single-38.jpg, single-39.jpg, single-40.jpg, single-41.jpg, single-42.jpg, single-43.jpg, single-44.jpg, single-45.jpg, single-46.jpg, single-47.jpg, single-48.jpg, single-49.jpg, single-50.jpg, single-51.jpg, single-52.jpg, single-53.jpg, single-54.jpg, single-55.jpg, single-56.jpg, single-57.jpg, single-58.jpg, single-59.jpg, single-60.jpg, single-61.jpg, single-62.jpg, single-63.jpg, single-64.jpg, single-65.jpg, single-66.jpg, 
single-67.jpg, single-68.jpg, single-69.jpg, single-70.jpg, single-71.jpg, single-72.jpg, single-73.jpg, single-74.jpg, single-75.jpg, single-76.jpg, single-77.jpg, single-78.jpg, single-79.jpg, single-80.jpg, single-81.jpg, single-82.jpg, single-83.jpg, single-84.jpg, single-85.jpg, single-86.jpg, single-87.jpg, single-88.jpg, single-89.jpg, single-90.jpg, single-91.jpg, single-92.jpg, single-93.jpg, single-94.jpg, single-95.jpg, single-96.jpg, single-97.jpg, single-98.jpg, single-99.jpg, single-100.jpg, 
single-101.jpg, single-102.jpg, single-103.jpg, single-104.jpg, single-105.jpg, single-106.jpg, single-107.jpg, single-108.jpg, single-109.jpg, single-110.jpg, single-111.jpg, single-112.jpg, single-113.jpg, single-114.jpg, single-115.jpg, single-116.jpg, single-117.jpg, single-118.jpg, single-119.jpg, single-120.jpg, single-121.jpg, single-122.jpg, single-123.jpg, single-124.jpg, single-125.jpg, single-126.jpg, single-127.jpg, single-128.jpg, single-129.jpg, single-130.jpg, single-131.jpg, single-132.jpg, 
single-133.jpg, single-134.jpg, single-135.jpg, single-136.jpg, single-137.jpg, single-138.jpg"; */

String path;
ArrayList<Integer> clicked = new ArrayList<Integer>();
boolean if_clicked[];
PImage img;
icon_obj confirm;
icon_obj prev;
icon_obj forward;
icon_obj back;
icon_obj[] iconobj;
int cur_state;
int pre_state;
int mouse_in;
String[] answerlist, weights;
int[][] index_score;
int lineButt = 0;
String hl_inBound; //name of the currently hovered character
Parser p;
multi comparison;
single sing;
int total;
int cur_page;
int total_page;
int temp_total;

void setup() {
  
  temp_total = 139;
  cur_page = 0;
  total_page = 5;
  
  size(1200,800);
  smooth();
  total = 139;
  cur_state = 0;
  iconobj = new icon_obj[temp_total];
  if_clicked = new boolean[temp_total];
  for(int i = 0; i < temp_total; i++) {
    if_clicked[i] = false;
  }
  
  p = new Parser("database.csv");
  comparison = new multi(clicked,p);
    sing = new single(p);
  /*
  for(int i = 0; i < 4; i++) {
    path = "icon/"+str(i)+".jpg";
    img = loadImage(path);
    icon_obj temp = new icon_obj(118+i*120, 123, 100, 170, i, img);
    iconobj[i] = temp;
  }
  */
}

void draw() {
  mouse_in = -1;
  background(10);
  if(cur_state == 0) {
    path = "champion-bg.jpg";
    img = loadImage(path);
    image(img,0,0);
    for(int i = 0; i < temp_total; i++) {
      path = str(i)+".jpg";
      img = loadImage(path);
      if(i >= 0 && i < 8) iconobj[i] = new icon_obj(cur_page*1200+124+i*120, 123, 100, 170, i, img);
      if(i >= 8 && i < 16) iconobj[i] = new icon_obj(cur_page*1200+124+(i-8)*120, 323, 100, 170, i, img);
      if(i >= 16 && i < 24) iconobj[i] = new icon_obj(cur_page*1200+124+(i-16)*120, 523, 100, 170, i, img);
      if(i >= 24 && i < 32) iconobj[i] = new icon_obj(cur_page*1200+1200+124+(i-24)*120, 123, 100, 170, i, img);
      if(i >= 32 && i < 40) iconobj[i] = new icon_obj(cur_page*1200+1200+124+(i-32)*120, 323, 100, 170, i, img);
      if(i >= 40 && i < 48) iconobj[i] = new icon_obj(cur_page*1200+1200+124+(i-40)*120, 523, 100, 170, i, img);
      if(i >= 48 && i < 56) iconobj[i] = new icon_obj(cur_page*1200+1200*2+124+(i-48)*120, 123, 100, 170, i, img);
      if(i >= 56 && i < 64) iconobj[i] = new icon_obj(cur_page*1200+1200*2+124+(i-56)*120, 323, 100, 170, i, img);
      if(i >= 64 && i < 72) iconobj[i] = new icon_obj(cur_page*1200+1200*2+124+(i-64)*120, 523, 100, 170, i, img);
      if(i >= 72 && i < 80) iconobj[i] = new icon_obj(cur_page*1200+1200*3+124+(i-72)*120, 123, 100, 170, i, img);
      if(i >= 80 && i < 88) iconobj[i] = new icon_obj(cur_page*1200+1200*3+124+(i-80)*120, 323, 100, 170, i, img);
      if(i >= 88 && i < 96) iconobj[i] = new icon_obj(cur_page*1200+1200*3+124+(i-88)*120, 523, 100, 170, i, img);
      if(i >= 96 && i < 104) iconobj[i] = new icon_obj(cur_page*1200+1200*4+124+(i-96)*120, 123, 100, 170, i, img);
      if(i >= 104 && i < 112) iconobj[i] = new icon_obj(cur_page*1200+1200*4+124+(i-104)*120, 323, 100, 170, i, img);
      if(i >= 112 && i < 120) iconobj[i] = new icon_obj(cur_page*1200+1200*4+124+(i-112)*120, 523, 100, 170, i, img);
      if(i >= 120 && i < 128) iconobj[i] = new icon_obj(cur_page*1200+1200*5+124+(i-120)*120, 123, 100, 170, i, img);
      if(i >= 128 && i < 136) iconobj[i] = new icon_obj(cur_page*1200+1200*5+124+(i-128)*120, 323, 100, 170, i, img);
      if(i >= 136 && i < 144) iconobj[i] = new icon_obj(cur_page*1200+1200*5+124+(i-136)*120, 523, 100, 170, i, img);
    }
    for(int i = 0; i < temp_total; i++) {
      if(iconobj[i].inBound()) mouse_in = i;
      if(clicked.size() == 0) iconobj[i].draw(if_clicked[i],false);
      else iconobj[i].draw(if_clicked[i],true);
    }
    path = "back.png";
    img = loadImage(path);
    prev = new icon_obj(40, 390, 51, 56, -1, img);
    prev.draw(false,false);
    path = "forward.png";
    img = loadImage(path);
    forward = new icon_obj(1098, 390, 51, 56, -1, img);
    forward.draw(false,false);
    path = "confirm.jpg";
    img = loadImage(path);
    confirm = new icon_obj(569, 708, 51, 56, -1, img);
    confirm.draw(false,false);
  }
  else if (cur_state == 1) {
    path = "single-"+str(clicked.get(0))+".jpg";
    img = loadImage(path);
    image(img,0,0);
    path = "back.png";
    img = loadImage(path);
    back = new icon_obj(569, 708, 51, 56, -1, img);
    back.draw(false,false);
    sing.draw(clicked.get(0));
  }
  else if (cur_state == 2) {
    path = "multi-bg.jpg";
    img = loadImage(path);
    image(img,0,0);
    path = "back.png";
    img = loadImage(path);
    back = new icon_obj(569, 708, 51, 56, -1, img);
    back.draw(false,false);
    comparison.draw();
  }
}

void mouseClicked() {
  if (mouseButton == LEFT) {
    if(cur_state == 0) {
      if(confirm.inBound()) {
        if(clicked.size() == 1) {
          cur_state = 1;
          pre_state = 0;
        }
        else if(clicked.size() > 1 && clicked.size() < 5) {
          cur_state = 2;
          pre_state = 0;
        }
      }
      else if(prev.inBound() && cur_page!=0) {
        cur_page++;
      }
      else if(forward.inBound() && cur_page!=-1*total_page) {
        cur_page--;
      }
      else if(mouse_in != -1) {
        if(if_clicked[mouse_in]) {
          for(int i = 0; i < clicked.size(); i++) {
            if(clicked.get(i)==mouse_in) {
              clicked.remove(i);
              break;
            }
          }
          if_clicked[mouse_in] = false;
        }
        else {
          boolean exist = false;
          for(int i = 0; i < clicked.size(); i++) {
            if(clicked.get(i)==mouse_in) {
              exist = true;
              break;
            }
          }
          if(!exist) clicked.add(mouse_in);
          if_clicked[mouse_in] = true;
        }
      }
    }
    else if(back.inBound()) {
      cur_state = pre_state;
    }
    
    if (comparison.lines.b_hp.inBound()) lineButt = 0;
    else if (comparison.lines.b_hp5.inBound()) lineButt = 1;
    else if (comparison.lines.b_mp.inBound()) lineButt = 2;
    else if (comparison.lines.b_mp5.inBound()) lineButt = 3;
    else if (comparison.lines.b_ad.inBound()) lineButt = 4;
    else if (comparison.lines.b_as.inBound()) lineButt = 5;
    else if (comparison.lines.b_ar.inBound()) lineButt = 6;
    else if (comparison.lines.b_mr.inBound()) lineButt = 7;
  }
}

void predict(String str1, String str2) {
  index_score = new int[total][2];
  convert_js_to_java(str1,str2);
  assign_scores();
  get_result();
  cur_state = 2;
  pre_state = 0;
}

void convert_js_to_java(String list1, String list2){
  answerlist = split(list1, ",");
  weights = split(list2,",");
}

void get_result(){
  //get first 4 highest score
  int max1 = 0;
  int max2 = 0;
  int max3 = 0;
  int max4 = 0;
  int id1 = 0,id2 = 0,id3 = 0,id4 = 0;
  int[][]temp = index_score;
  for (int i = 0; i < total; i++){
    if (temp[i][0] > max1){
      max1 = temp[i][0];
      id1 = i;
      temp[i][0] = 0;
    }
  }
  for (int i = 0; i < total; i++){
    if (temp[i][0] > max2) {
      max2 = temp[i][0];
      id2 = i;
      temp[i][0] = 0;
    }
  }
  for (int i = 0; i < total; i++){
    if (temp[i][0] > max3) {
      max3 = temp[i][0];
      id3 = i;
      temp[i][0] = 0;
    }
  }
  for (int i = 0; i < total; i++){
    if (temp[i][0] > max4) {
      max4 = temp[i][0];
      id4 = i;
      temp[i][0] = 0;
    }
  }

  clicked = new ArrayList<Integer>();
  clicked.add(id1);
  clicked.add(id2);
  clicked.add(id3);
  clicked.add(id4);
}

void assign_scores(){
  for (int i = 0; i < total; i++){
    int score = 0;
    //for question 1:
    if (answerlist[0].equals("top")){
      if (p.top[i] == 1) score = score + parseInt(weights[0]) *parseInt(weights[0]);
    } else if (answerlist[0].equals("middle")){
      if (p.middle[i] == 1) score = score + parseInt(weights[0]) *parseInt(weights[0]);
    } else if (answerlist[0].equals("bottom")){
      if (p.bottom[i] == 1) score = score + parseInt(weights[0]) *parseInt(weights[0]);
    } else if (answerlist[0].equals("jungle")){
      if (p.jungle[i] == 1) score = score + parseInt(weights[0]) *parseInt(weights[0]);
    } else if (answerlist[0].equals("support")){
      if (p.support[i] == 1) score = score + parseInt(weights[0]) *parseInt(weights[0]);
    }
    
    //for question 2:
    if (answerlist[1].equals("near") && (p.range[i] < 300)){
      score = score + parseInt(weights[1]) * parseInt(weights[1]);
    } else if (answerlist[1].equals("far") && (p.range[1] >= 300)){
      score = score + parseInt(weights[1]) * parseInt(weights[1]);
    }
    
    //for question 3:
    if (answerlist[2].equals("female") && p.gender[i].equals("Female")){
      score = score + parseInt(weights[2]) * parseInt(weights[2]);
    } else if (answerlist[2].equals("male") && p.gender[i].equals("Male")){
      score = score + parseInt(weights[2]) * parseInt(weights[2]);
    }
    
    //for question 4:
    if (answerlist[3].equals("cute") && p.gender[i].equals("Cute")){
      score = score + parseInt(weights[3]) * parseInt(weights[3]);
    } else if (answerlist[3].equals("sexy") && p.gender[i].equals("Sexy")){
      score = score + parseInt(weights[3]) * parseInt(weights[3]);
    } else if (answerlist[3].equals("handsome") && p.gender[i].equals("Handsome")){
      score = score + parseInt(weights[3]) * parseInt(weights[3]);
    } else if (answerlist[3].equals("fierce") && p.gender[i].equals("Fierce")){
      score = score + parseInt(weights[3]) * parseInt(weights[3]);
    } else if (answerlist[3].equals("wicked") && p.gender[i].equals("Wicked")){
      score = score + parseInt(weights[3]) * parseInt(weights[3]);
    }
    
    //for question 5:
    if (answerlist[4].equals("Fighter") && p.gender[i].equals("Fighter")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Mage") && p.gender[i].equals("Mage")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Slayer") && p.gender[i].equals("Slayer")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Tank") && p.gender[i].equals("Tank")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Marksman") && p.gender[i].equals("Marksman")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Specialist") && p.gender[i].equals("Specialist")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    } else if (answerlist[4].equals("Controller") && p.gender[i].equals("Controller")){
      score = score + parseInt(weights[4]) * parseInt(weights[4]);
    }
    
    //for question 6:
    if (answerlist[5].equals("yes") && (p.abt[i][0] >= 2)){
      score = score + parseInt(weights[5]) * parseInt(weights[5]);
    } else if (answerlist[5].equals("no") && (p.abt[i][0] < 2)){
      score = score + parseInt(weights[5]) * parseInt(weights[5]);
    }
    
    //for question 7:
    if (answerlist[6].equals("yes") && (p.abt[i][1] >= 2)){
      score = score + parseInt(weights[6]) * parseInt(weights[6]);
    } else if (answerlist[6].equals("no") && (p.abt[i][1] < 2)){
      score = score + parseInt(weights[6]) * parseInt(weights[6]);
    }
    
    //for question 8:
    if (answerlist[7].equals("yes") && (p.abt[i][2] >= 2)){
      score = score + parseInt(weights[7]) * parseInt(weights[7]);
    } else if (answerlist[7].equals("no") && (p.abt[i][2] < 2)){
      score = score + parseInt(weights[7]) * parseInt(weights[7]);
    }
    
    //for question 9:
    if (answerlist[8].equals("yes") && (p.abt[i][3] >= 2)){
      score = score + parseInt(weights[8]) * parseInt(weights[8]);
    } else if (answerlist[8].equals("no") && (p.abt[i][3] < 2)){
      score = score + parseInt(weights[8]) * parseInt(weights[8]);
    }
    
    //for question 10:
    if (answerlist[9].equals("yes") && (p.abt[i][4] >= 2)){
      score = score + parseInt(weights[9]) * parseInt(weights[9]);
    } else if (answerlist[9].equals("no") && (p.abt[i][4] < 2)){
      score = score + parseInt(weights[9]) * parseInt(weights[9]);
    }
    
    //for question 11:
    if (answerlist[10].equals("yes") && (p.difficulty[i] >= 2)){
      score = score + parseInt(weights[10]) * parseInt(weights[10]);
    } else if (answerlist[10].equals("no") && (p.difficulty[i] < 2)){
      score = score + parseInt(weights[10]) * parseInt(weights[10]);
    }
    index_score[i][0] = score;
    index_score[i][1] = i;
  }
}

class icon_obj {
  float x;
  float y;
  float wid;
  float hgt;
  int id;
  PImage img;
  //boolean if_clicked;
  int n = 0;
  
  icon_obj(float x, float y, float wid, float hgt, int id, PImage img) {
    this.x = x;
    this.y = y;
    this.wid = wid;
    this.hgt = hgt;
    this.id = id;
    this.img = img;
    //if_clicked = false;
  }
  
  boolean inBound() {
    return (mouseX > x && mouseX < x+wid && mouseY > y && mouseY < y+hgt);
  }
  
  void draw(boolean if_clicked, boolean if_gray) {
    if((inBound() || if_clicked) && id != -1) {
      stroke(158,120,50);
      strokeWeight(2);
      rect(x-7, y-5, 1.09*wid, 1.095*hgt);
      if(!if_clicked && if_gray) img.filter(GRAY);
      image(img, x-7, y-5, 1.1*wid, 1.1*hgt);
    }
    else {
      if(if_gray) img.filter(GRAY);
      image(img, x, y);
    }
  }
}