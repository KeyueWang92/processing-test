<!doctype html>
<html lang="en">
	<head>
		<title>Final Project Test</title>
		<meta charset="utf-8">
   		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<script src="processing.js"></script>
		<!-- Bootstrap CSS -->
    	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    	<script type="text/javascript">
    		function getResult(){
    			// document.getElementById("result").innerHTML = "You result is: "+ localStorage.sum;
                var tags = localStorage.answerlist;
                var weights = localStorage.answerweight;
    			var pjs = Processing.getInstanceById("score");
                console.log(tags);
                console.log(weights);
    			if (pjs) {
                    pjs.convert_js_to_java(tags,weights);
    				// pjs.draw_text(tags,weights);
                    pjs.assign_scores();
                    pjs.get_result();
    			}
    			else setTimeout(getResult,1000);
    		}
    	</script>
    </head>
    <body>
    	<div id="result"></div>
    	<canvas id="score" data-processing-sources="result.pde Parser.pde"></canvas>
    	<script type="text/javascript">
    		getResult();
    	</script>
    </body>
</html>